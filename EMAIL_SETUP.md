# إعداد البريد الإلكتروني - CrowdFund Egypt

## الخطوات المطلوبة لإعداد إرسال رسائل البريد الإلكتروني

### 1. إعداد Gmail App Password

1. اذهب إلى [Google Account Settings](https://myaccount.google.com/)
2. اختر "Security" من القائمة الجانبية
3. فعّل "2-Step Verification" إذا لم تكن مفعلة
4. اذهب إلى "App passwords"
5. اختر "Mail" و "Other (Custom name)"
6. اكتب اسم مثل "CrowdFund Egypt"
7. انسخ كلمة المرور المولدة (16 حرف)

### 2. تحديث إعدادات المشروع

افتح ملف `project/settings.py` وقم بتحديث الإعدادات التالية:

```python
# Email Configuration
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_HOST_USER = 'your-email@gmail.com'  # استبدل ببريدك الإلكتروني
EMAIL_HOST_PASSWORD = 'your-app-password'  # استبدل بكلمة المرور المولدة
DEFAULT_FROM_EMAIL = 'your-email@gmail.com'  # استبدل ببريدك الإلكتروني

# Site URL for email links
SITE_URL = 'http://localhost:8000'  # غير هذا إلى نطاقك في الإنتاج
```

### 3. اختبار الإعداد

1. شغل الخادم: `python manage.py runserver`
2. اذهب إلى صفحة التسجيل
3. سجل حساب جديد
4. تحقق من بريدك الإلكتروني لرسالة التفعيل

### 4. أنواع الرسائل المتاحة

#### رسالة تفعيل الحساب
- تُرسل عند التسجيل
- تحتوي على رابط التفعيل
- صالحة لمدة 24 ساعة

#### رسالة إعادة تعيين كلمة المرور
- تُرسل عند طلب إعادة تعيين كلمة المرور
- تحتوي على رابط آمن
- صالحة لمدة 24 ساعة

#### رسالة الترحيب
- تُرسل بعد تفعيل الحساب
- تحتوي على معلومات مفيدة للمستخدم الجديد

### 5. قوالب الرسائل

تم إنشاء قوالب HTML جميلة للرسائل في:
- `templates/emails/activation_email.html`
- `templates/emails/password_reset_email.html`

### 6. ملاحظات مهمة

- تأكد من أن Gmail يسمح بالوصول للتطبيقات الأقل أماناً
- في الإنتاج، استخدم متغيرات بيئية لحفظ بيانات الاعتماد
- تأكد من تحديث `SITE_URL` إلى النطاق الصحيح
- اختبر الرسائل في بيئة التطوير قبل النشر

### 7. استكشاف الأخطاء

إذا لم تصل الرسائل:
1. تحقق من إعدادات Gmail
2. تأكد من صحة كلمة المرور
3. تحقق من سجلات الخادم للأخطاء
4. تأكد من أن البريد الإلكتروني صحيح

### 8. الأمان

- لا تشارك كلمة مرور التطبيق
- استخدم متغيرات بيئية في الإنتاج
- راجع إعدادات الأمان بانتظام
